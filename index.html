<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Interactive AdTech Quiz with voice, gesture, and blink controls"
    />
    <title>AdTech Quiz - Interactive Learning Experience</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Background Effects -->
    <div class="background-gradient"></div>
    <div class="background-orbs">
      <div class="orb orb-1"></div>
      <div class="orb orb-2"></div>
      <div class="orb orb-3"></div>
    </div>

    <!-- Main Container -->
    <div class="container">
      <!-- Header -->
      <header class="header" role="banner">
        <div class="logo" aria-label="AdTech Quiz Logo">
          <div class="logo-grid">
            <span>Q</span><span>U</span> <span>I</span><span>Z</span>
          </div>
        </div>
        <h1 class="main-title">
          WELCOME TO <span class="highlight">ADTECH QUIZ</span>
        </h1>
      </header>

      <!-- Accessibility Controls Panel -->
      <div
        class="controls-panel"
        id="controlsPanel"
        aria-label="Accessibility Controls"
      >
        <button
          class="controls-toggle"
          id="controlsToggle"
          aria-label="Toggle accessibility controls"
        >
          <span class="icon">‚öôÔ∏è</span> Controls
        </button>
        <div class="controls-content" id="controlsContent">
          <h3>Accessibility Features</h3>
          <div class="control-item">
            <label class="switch" aria-label="Voice control toggle">
              <input type="checkbox" id="voiceToggle" />
              <span class="slider"></span>
            </label>
            <span>üé§ Voice Control</span>
          </div>
          <div class="control-item">
            <label class="switch" aria-label="Hand gesture control toggle">
              <input type="checkbox" id="gestureToggle" />
              <span class="slider"></span>
            </label>
            <span>‚úã Hand Gestures</span>
          </div>
          <div class="control-item">
            <label class="switch" aria-label="Eye blink control toggle">
              <input type="checkbox" id="blinkToggle" />
              <span class="slider"></span>
            </label>
            <span>üëÅÔ∏è Eye Blink</span>
          </div>
          <button class="help-btn" id="helpBtn" aria-label="Show help">
            ‚ùì How to Use
          </button>
        </div>
      </div>

      <!-- Camera Preview (for gestures and blinks) -->
      <div class="camera-preview" id="cameraPreview" style="display: none">
        <video id="videoElement" autoplay playsinline></video>
        <canvas id="canvasElement"></canvas>
        <div
          class="gesture-feedback"
          id="gestureFeedback"
          aria-live="polite"
        ></div>
      </div>

      <!-- Welcome Screen -->
      <div class="screen" id="welcomeScreen">
        <div class="welcome-content">
          <div class="name-input-container">
            <input
              type="text"
              id="userName"
              class="name-input"
              placeholder="Your name here.."
              aria-label="Enter your name"
              maxlength="30"
            />
          </div>

          <p class="select-text">Select topic below to start your Quiz</p>

          <div class="topics-grid" id="topicsGrid" role="list">
            <!-- Topics will be dynamically inserted here -->
          </div>

          <button class="start-btn" id="startBtn" aria-label="Start quiz">
            Start Quiz <span class="arrow">‚Ä∫</span>
          </button>
        </div>
      </div>

      <!-- Quiz Screen -->
      <div class="screen hidden" id="quizScreen">
        <div class="quiz-header">
          <div class="quiz-info">
            <span class="topic-name" id="currentTopic"></span>
            <div
              class="progress-bar"
              role="progressbar"
              aria-valuenow="0"
              aria-valuemin="0"
              aria-valuemax="100"
            >
              <div class="progress-fill" id="progressFill"></div>
            </div>
            <span
              class="question-counter"
              id="questionCounter"
              aria-live="polite"
              >Question 1 of 5</span
            >
          </div>
          <div class="score-display" aria-live="polite">
            Score: <span id="scoreValue">0</span>
          </div>
        </div>

        <div class="question-container">
          <h2 class="question-text" id="questionText"></h2>

          <div
            class="options-grid"
            id="optionsGrid"
            role="radiogroup"
            aria-label="Answer options"
          >
            <!-- Options will be dynamically inserted here -->
          </div>

          <div
            class="explanation hidden"
            id="explanation"
            role="status"
            aria-live="polite"
          >
            <span class="explanation-icon">üí°</span>
            <p id="explanationText"></p>
          </div>
        </div>

        <div class="quiz-navigation">
          <button
            class="nav-btn"
            id="prevBtn"
            aria-label="Previous question"
            disabled
          >
            ‚Äπ Previous
          </button>
          <button
            class="nav-btn primary"
            id="nextBtn"
            aria-label="Next question"
          >
            Next ‚Ä∫
          </button>
        </div>
      </div>

      <!-- Results Screen -->
      <div class="screen hidden" id="resultsScreen">
        <div class="results-content">
          <div class="results-animation">
            <div class="trophy-icon">üèÜ</div>
          </div>
          <h2 class="results-title">Quiz Complete!</h2>
          <div class="final-score">
            <span class="score-label">Your Score</span>
            <span class="score-number" id="finalScore">0</span>
            <span class="score-total"
              >out of <span id="totalQuestions">0</span></span
            >
          </div>
          <div class="performance-message" id="performanceMessage"></div>
          <div class="results-actions">
            <button
              class="action-btn primary"
              id="retakeBtn"
              aria-label="Retake quiz"
            >
              üîÑ Retake Quiz
            </button>
            <button
              class="action-btn"
              id="newTopicBtn"
              aria-label="Choose new topic"
            >
              üìö Choose New Topic
            </button>
          </div>
        </div>
      </div>

      <!-- Help Modal -->
      <div
        class="modal hidden"
        id="helpModal"
        role="dialog"
        aria-labelledby="helpTitle"
        aria-modal="true"
      >
        <div class="modal-content">
          <button class="modal-close" id="modalClose" aria-label="Close help">
            √ó
          </button>
          <h2 id="helpTitle">How to Use</h2>
          <div class="help-sections">
            <div class="help-section">
              <h3>üé§ Voice Control</h3>
              <ul>
                <li>
                  Say <strong>"Option 1/A"</strong> to select first option
                </li>
                <li>Say <strong>"Next"</strong> to go to next question</li>
                <li>Say <strong>"Previous"</strong> to go back</li>
                <li>
                  Say <strong>"Read question"</strong> to hear the question
                </li>
              </ul>
            </div>
            <div class="help-section">
              <h3>‚úã Hand Gestures</h3>
              <ul>
                <li>Show <strong>1 finger</strong> for Option A</li>
                <li>Show <strong>2 fingers</strong> for Option B</li>
                <li>Show <strong>3 fingers</strong> for Option C</li>
                <li>Show <strong>4 fingers</strong> for Option D</li>
                <li><strong>Open palm</strong> to go next</li>
              </ul>
            </div>
            <div class="help-section">
              <h3>üëÅÔ∏è Eye Blink</h3>
              <ul>
                <li><strong>Single blink</strong> to cycle through options</li>
                <li><strong>Double blink</strong> to confirm selection</li>
                <li><strong>Long blink (2s)</strong> to go next</li>
              </ul>
            </div>
            <div class="help-section">
              <h3>‚å®Ô∏è Keyboard Shortcuts</h3>
              <ul>
                <li><strong>1-4</strong> to select options</li>
                <li><strong>Enter</strong> for next question</li>
                <li><strong>Backspace</strong> for previous</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Status Messages -->
      <div
        class="status-message"
        id="statusMessage"
        role="status"
        aria-live="polite"
      ></div>
    </div>

    <!-- Scripts -->
    <!-- MediaPipe Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>

    <!-- Quiz Data -->
    <script src="quiz-data.js"></script>

    <!-- Main Application -->
    <script src="app.js"></script>
  </body>
</html>
